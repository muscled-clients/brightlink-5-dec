{{ 'contact-discussion.css' | asset_url | stylesheet_tag }}

<section class="contact-discussion" id="contact-discussion">
  <div class="contact-discussion__container">
    <div class="contact-discussion__header">
      <div class="contact-discussion__header-text">
        <span class="contact-discussion__label">{{ section.settings.label | default: 'READY TO TRANSFORM YOUR SPACE?' }}</span>
        <h2 class="contact-discussion__title">{{ section.settings.title | default: "Let's Discuss Your Project" }}</h2>
      </div>
      <p class="contact-discussion__subtitle">{{ section.settings.subtitle | default: 'Talk to our LED specialists about your specific requirements' }}</p>
    </div>
    <div class="contact-discussion__content">

    <div class="contact-discussion__cards-wrapper">
      <div class="contact-discussion__cards" data-slider="cards">
        <div class="contact-discussion__card">
          <div class="contact-discussion__card-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
            </svg>
          </div>
          <h3 class="contact-discussion__card-title">{{ section.settings.call_title | default: 'Call Us Now' }}</h3>
          <p class="contact-discussion__card-phone">{{ section.settings.phone_number | default: '855-449-4733' }}</p>
          <p class="contact-discussion__card-info">{{ section.settings.phone_availability | default: 'Mon-Fri 7AM-5PM PST' }}</p>
          <a href="tel:{{ section.settings.phone_number | default: '855-449-4733' | remove: '-' }}" class="contact-discussion__card-btn">
            {{ section.settings.call_button_text | default: 'CALL NOW' }}
          </a>
        </div>

        <div class="contact-discussion__card">
          <div class="contact-discussion__card-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="20" height="16" x="2" y="4" rx="2"></rect>
              <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
            </svg>
          </div>
          <h3 class="contact-discussion__card-title">{{ section.settings.email_title | default: 'Email Our Team' }}</h3>
          <a href="mailto:{{ section.settings.email_address | default: 'support@brightlinkav.com' }}" class="contact-discussion__card-email">{{ section.settings.email_address | default: 'support@brightlinkav.com' }}</a>
          <p class="contact-discussion__card-info">{{ section.settings.email_response | default: 'Same day response time' }}</p>
          <a href="mailto:{{ section.settings.email_address | default: 'support@brightlinkav.com' }}" class="contact-discussion__card-btn">
            {{ section.settings.email_button_text | default: 'SEND EMAIL' }}
          </a>
        </div>

        <div class="contact-discussion__card">
          <div class="contact-discussion__card-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect>
              <line x1="16" x2="16" y1="2" y2="6"></line>
              <line x1="8" x2="8" y1="2" y2="6"></line>
              <line x1="3" x2="21" y1="10" y2="10"></line>
            </svg>
          </div>
          <h3 class="contact-discussion__card-title">{{ section.settings.demo_title | default: 'Schedule Demo' }}</h3>
          <p class="contact-discussion__card-highlight">{{ section.settings.demo_subtitle | default: 'See Pro Spectrum In Person' }}</p>
          <p class="contact-discussion__card-info">{{ section.settings.demo_info | default: 'Virtual or in-person tours' }}</p>
          <a href="{{ section.settings.demo_button_link | default: '#' }}" class="contact-discussion__card-btn">
            {{ section.settings.demo_button_text | default: 'BOOK APPOINTMENT' }}
          </a>
        </div>
      </div>
      <div class="contact-discussion__dots" data-dots="cards">
        <button class="contact-discussion__dot contact-discussion__dot--active" data-index="0" aria-label="Slide 1"></button>
        <button class="contact-discussion__dot" data-index="1" aria-label="Slide 2"></button>
        <button class="contact-discussion__dot" data-index="2" aria-label="Slide 3"></button>
      </div>
    </div>

    </div>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const section = document.querySelector('.contact-discussion');
  if (!section) return;

  function initSlider(sliderSelector, dotsSelector) {
    const slider = section.querySelector(sliderSelector);
    const dotsContainer = section.querySelector(dotsSelector);
    if (!slider || !dotsContainer) return;

    const dots = dotsContainer.querySelectorAll('.contact-discussion__dot');
    const items = slider.children;

    // Update dots on scroll
    slider.addEventListener('scroll', function() {
      const scrollLeft = slider.scrollLeft;
      const itemWidth = slider.offsetWidth;
      const activeIndex = Math.round(scrollLeft / itemWidth);

      dots.forEach((dot, index) => {
        dot.classList.toggle('contact-discussion__dot--active', index === activeIndex);
      });
    });

    // Click on dots to navigate
    dots.forEach((dot, index) => {
      dot.addEventListener('click', function() {
        const itemWidth = slider.offsetWidth;
        slider.scrollTo({
          left: index * itemWidth,
          behavior: 'smooth'
        });
      });
    });
  }

  // Initialize cards slider
  initSlider('[data-slider="cards"]', '[data-dots="cards"]');
});
</script>

{% schema %}
{
  "name": "Contact Discussion",
  "tag": "section",
  "class": "contact-discussion-section",
  "settings": [
    {
      "type": "header",
      "content": "Header Section"
    },
    {
      "type": "text",
      "id": "label",
      "label": "Section Label",
      "default": "READY TO TRANSFORM YOUR SPACE?"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Let's Discuss Your Project"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Talk to our LED specialists about your specific requirements"
    },
    {
      "type": "header",
      "content": "Call Us Card"
    },
    {
      "type": "text",
      "id": "call_title",
      "label": "Call Card Title",
      "default": "Call Us Now"
    },
    {
      "type": "text",
      "id": "phone_number",
      "label": "Phone Number",
      "default": "855-449-4733"
    },
    {
      "type": "text",
      "id": "phone_availability",
      "label": "Availability",
      "default": "Mon-Fri 7AM-5PM PST"
    },
    {
      "type": "text",
      "id": "call_button_text",
      "label": "Call Button Text",
      "default": "CALL NOW"
    },
    {
      "type": "header",
      "content": "Email Card"
    },
    {
      "type": "text",
      "id": "email_title",
      "label": "Email Card Title",
      "default": "Email Our Team"
    },
    {
      "type": "text",
      "id": "email_address",
      "label": "Email Address",
      "default": "support@brightlinkav.com"
    },
    {
      "type": "text",
      "id": "email_response",
      "label": "Response Time",
      "default": "Same day response time"
    },
    {
      "type": "text",
      "id": "email_button_text",
      "label": "Email Button Text",
      "default": "SEND EMAIL"
    },
    {
      "type": "header",
      "content": "Demo Card"
    },
    {
      "type": "text",
      "id": "demo_title",
      "label": "Demo Card Title",
      "default": "Schedule Demo"
    },
    {
      "type": "text",
      "id": "demo_subtitle",
      "label": "Demo Subtitle",
      "default": "See Pro Spectrum In Person"
    },
    {
      "type": "text",
      "id": "demo_info",
      "label": "Demo Info",
      "default": "Virtual or in-person tours"
    },
    {
      "type": "text",
      "id": "demo_button_text",
      "label": "Demo Button Text",
      "default": "BOOK APPOINTMENT"
    },
    {
      "type": "url",
      "id": "demo_button_link",
      "label": "Demo Button Link"
    }
  ],
  "presets": [
    {
      "name": "Contact Discussion"
    }
  ]
}
{% endschema %}
