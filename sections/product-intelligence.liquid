{{ 'product-intelligence.css' | asset_url | stylesheet_tag }}

<section class="product-intelligence {{ section.settings.custom_class }}" id="product-intelligence-{{ section.id }}">
  <!-- Hexagonal Pattern Overlay -->
  <div class="product-intelligence__pattern"></div>

  <div class="product-intelligence__container">
    <!-- Header -->
    <div class="product-intelligence__header">
      {% if section.settings.section_label != blank %}
        <span class="product-intelligence__label">{{ section.settings.section_label }}</span>
      {% endif %}

      {% if section.settings.heading != blank %}
        <h2 class="product-intelligence__heading">{{ section.settings.heading }}</h2>
      {% endif %}

      {% if section.settings.subheading != blank %}
        <p class="product-intelligence__subheading">{{ section.settings.subheading }}</p>
      {% endif %}
    </div>

    <!-- Content -->
    <div class="product-intelligence__content">
      <!-- Tab Navigation -->
      <div class="product-intelligence__tabs" role="tablist">
        {% for block in section.blocks %}
          {% if block.type == 'tab' %}
            <button
              class="product-intelligence__tab {% if forloop.first %}product-intelligence__tab--active{% endif %}"
              role="tab"
              aria-selected="{% if forloop.first %}true{% else %}false{% endif %}"
              aria-controls="panel-{{ block.id }}"
              data-tab-index="{{ forloop.index0 }}"
              {{ block.shopify_attributes }}
            >
              <svg class="product-intelligence__tab-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                {% case block.settings.tab_icon %}
                  {% when 'overview' %}
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                  {% when 'specs' %}
                    <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/>
                  {% when 'features' %}
                    <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                  {% when 'included' %}
                    <path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6 10H6v-2h8v2zm4-4H6v-2h12v2z"/>
                  {% when 'installation' %}
                    <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>
                  {% when 'support' %}
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/>
                  {% else %}
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                {% endcase %}
              </svg>
              {{ block.settings.tab_title }}
            </button>
          {% endif %}
        {% endfor %}
      </div>

      <!-- Tab Panels -->
      <div class="product-intelligence__panels">
        {% for block in section.blocks %}
          {% if block.type == 'tab' %}
            <div
              class="product-intelligence__panel {% if forloop.first %}product-intelligence__panel--active{% endif %}"
              role="tabpanel"
              id="panel-{{ block.id }}"
              data-panel-index="{{ forloop.index0 }}"
            >
              <div class="product-intelligence__panel-content">
                <!-- Left Side: Text + Feature Cards -->
                <div class="product-intelligence__left">
                  <div class="product-intelligence__text">
                    {{ block.settings.tab_content }}
                    {% if block.settings.read_more_link != blank %}
                      <a href="{{ block.settings.read_more_link }}" class="product-intelligence__read-more">Read More</a>
                    {% else %}
                      <a href="#" class="product-intelligence__read-more">Read More</a>
                    {% endif %}
                  </div>

                  <!-- Feature Cards -->
                  {% if block.settings.show_features %}
                    <div class="product-intelligence__features">
                      <!-- Feature 1 -->
                      {% if block.settings.feature_1_title != blank %}
                        <div class="product-intelligence__feature-card">
                          <div class="product-intelligence__feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                              {% case block.settings.feature_1_icon %}
                                {% when 'warranty' %}
                                  <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/>
                                {% when 'support' %}
                                  <path d="M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"/>
                                {% when 'parts' %}
                                  <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>
                                {% else %}
                                  <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                              {% endcase %}
                            </svg>
                          </div>
                          <h4 class="product-intelligence__feature-title">{{ block.settings.feature_1_title }}</h4>
                          <p class="product-intelligence__feature-desc">{{ block.settings.feature_1_desc }}</p>
                        </div>
                      {% endif %}

                      <!-- Feature 2 -->
                      {% if block.settings.feature_2_title != blank %}
                        <div class="product-intelligence__feature-card">
                          <div class="product-intelligence__feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                              {% case block.settings.feature_2_icon %}
                                {% when 'warranty' %}
                                  <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/>
                                {% when 'support' %}
                                  <path d="M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"/>
                                {% when 'parts' %}
                                  <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>
                                {% else %}
                                  <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                              {% endcase %}
                            </svg>
                          </div>
                          <h4 class="product-intelligence__feature-title">{{ block.settings.feature_2_title }}</h4>
                          <p class="product-intelligence__feature-desc">{{ block.settings.feature_2_desc }}</p>
                        </div>
                      {% endif %}

                      <!-- Feature 3 -->
                      {% if block.settings.feature_3_title != blank %}
                        <div class="product-intelligence__feature-card">
                          <div class="product-intelligence__feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                              {% case block.settings.feature_3_icon %}
                                {% when 'warranty' %}
                                  <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/>
                                {% when 'support' %}
                                  <path d="M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"/>
                                {% when 'parts' %}
                                  <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>
                                {% else %}
                                  <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                              {% endcase %}
                            </svg>
                          </div>
                          <h4 class="product-intelligence__feature-title">{{ block.settings.feature_3_title }}</h4>
                          <p class="product-intelligence__feature-desc">{{ block.settings.feature_3_desc }}</p>
                        </div>
                      {% endif %}
                    </div>
                  {% endif %}
                </div>

                <!-- Right Side: Image -->
                <div class="product-intelligence__right">
                  {% if block.settings.tab_image != blank %}
                    <img
                      src="{{ block.settings.tab_image | image_url: width: 600 }}"
                      alt="{{ block.settings.tab_title }}"
                      class="product-intelligence__image"
                      loading="lazy"
                    >
                  {% else %}
                    <div class="product-intelligence__image-placeholder">
                      <span>Add Image</span>
                    </div>
                  {% endif %}
                </div>
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const section = document.getElementById('product-intelligence-{{ section.id }}');
    if (!section) return;

    const tabs = section.querySelectorAll('.product-intelligence__tab');
    const panels = section.querySelectorAll('.product-intelligence__panel');
    let currentIndex = 0;

    tabs.forEach((tab, index) => {
      tab.addEventListener('click', function() {
        if (index === currentIndex) return;

        // Determine slide direction
        const slideDirection = index > currentIndex ? 'slide-right' : 'slide-left';

        // Remove active class from all tabs and panels
        tabs.forEach(t => {
          t.classList.remove('product-intelligence__tab--active');
          t.setAttribute('aria-selected', 'false');
        });
        panels.forEach(p => {
          p.classList.remove('product-intelligence__panel--active');
          p.classList.remove('product-intelligence__panel--slide-right');
          p.classList.remove('product-intelligence__panel--slide-left');
        });

        // Add active class to clicked tab and corresponding panel
        tab.classList.add('product-intelligence__tab--active');
        tab.setAttribute('aria-selected', 'true');
        panels[index].classList.add('product-intelligence__panel--active');
        panels[index].classList.add('product-intelligence__panel--' + slideDirection);

        // Update current index
        currentIndex = index;
      });
    });
  });
</script>

{% schema %}
{
  "name": "Product Intelligence",
  "tag": "section",
  "class": "product-intelligence-wrapper",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "section_label",
      "label": "Section Label",
      "default": "PRODUCT INTELLIGENCE CENTER"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Complete Product Intelligence"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Comprehensive specifications, features, and technical documentation in one elegant interface"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "label_font_size",
      "min": 10,
      "max": 20,
      "step": 1,
      "default": 12,
      "unit": "px",
      "label": "Label Font Size"
    },
    {
      "type": "range",
      "id": "heading_font_size",
      "min": 28,
      "max": 60,
      "step": 2,
      "default": 42,
      "unit": "px",
      "label": "Heading Font Size"
    },
    {
      "type": "range",
      "id": "subheading_font_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "default": 16,
      "unit": "px",
      "label": "Subheading Font Size"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#0a0f14"
    },
    {
      "type": "color",
      "id": "label_color",
      "label": "Label Color",
      "default": "#FFD700"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Subheading Color",
      "default": "#a0a0a0"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 40,
      "max": 150,
      "step": 10,
      "default": 80,
      "unit": "px",
      "label": "Padding Top"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 40,
      "max": 150,
      "step": 10,
      "default": 80,
      "unit": "px",
      "label": "Padding Bottom"
    },
    {
      "type": "header",
      "content": "Advanced"
    },
    {
      "type": "checkbox",
      "id": "show_pattern",
      "label": "Show Hexagonal Pattern",
      "default": true
    },
    {
      "type": "text",
      "id": "custom_class",
      "label": "Custom CSS Class"
    }
  ],
  "blocks": [
    {
      "type": "tab",
      "name": "Tab",
      "settings": [
        {
          "type": "header",
          "content": "Tab Settings"
        },
        {
          "type": "text",
          "id": "tab_title",
          "label": "Tab Title",
          "default": "Overview"
        },
        {
          "type": "select",
          "id": "tab_icon",
          "label": "Tab Icon",
          "default": "overview",
          "options": [
            { "value": "overview", "label": "Overview (Checkmark)" },
            { "value": "specs", "label": "Specifications (List)" },
            { "value": "features", "label": "Features (Star)" },
            { "value": "included", "label": "What's Included (Folder)" },
            { "value": "installation", "label": "Installation (Tool)" },
            { "value": "support", "label": "Support (Question)" }
          ]
        },
        {
          "type": "header",
          "content": "Tab Content"
        },
        {
          "type": "richtext",
          "id": "tab_content",
          "label": "Content",
          "default": "<p>Meet the Brightlink Pro Spectrum COB LED Video Wall in our 217\" Diagonal configuration. This 15.75' × 8.86' masterpiece delivers 8,294,400 pixels at 1.25mm pitch —true 4K resolution with HDR support.</p><p>The Pro Spectrum represents the pinnacle of COB technology. True pixel-to-LED resolution, high dynamic range, and superior contrast deliver visuals that feel alive. Crystal-clear text, rich blacks, and motion that stays smooth even in fast-paced content.</p>"
        },
        {
          "type": "image_picker",
          "id": "tab_image",
          "label": "Content Image"
        },
        {
          "type": "url",
          "id": "read_more_link",
          "label": "Read More Link"
        },
        {
          "type": "header",
          "content": "Feature Cards"
        },
        {
          "type": "checkbox",
          "id": "show_features",
          "label": "Show Feature Cards",
          "default": true
        },
        {
          "type": "text",
          "id": "feature_1_title",
          "label": "Feature 1 Title",
          "default": "4-Year Warranty"
        },
        {
          "type": "text",
          "id": "feature_1_desc",
          "label": "Feature 1 Description",
          "default": "Comprehensive coverage"
        },
        {
          "type": "select",
          "id": "feature_1_icon",
          "label": "Feature 1 Icon",
          "default": "warranty",
          "options": [
            { "value": "warranty", "label": "Warranty (Shield)" },
            { "value": "support", "label": "Support (Headset)" },
            { "value": "parts", "label": "Parts (Tool)" },
            { "value": "star", "label": "Star" }
          ]
        },
        {
          "type": "text",
          "id": "feature_2_title",
          "label": "Feature 2 Title",
          "default": "Lifetime Support"
        },
        {
          "type": "text",
          "id": "feature_2_desc",
          "label": "Feature 2 Description",
          "default": "855-449-4733"
        },
        {
          "type": "select",
          "id": "feature_2_icon",
          "label": "Feature 2 Icon",
          "default": "support",
          "options": [
            { "value": "warranty", "label": "Warranty (Shield)" },
            { "value": "support", "label": "Support (Headset)" },
            { "value": "parts", "label": "Parts (Tool)" },
            { "value": "star", "label": "Star" }
          ]
        },
        {
          "type": "text",
          "id": "feature_3_title",
          "label": "Feature 3 Title",
          "default": "5% Spare Parts"
        },
        {
          "type": "text",
          "id": "feature_3_desc",
          "label": "Feature 3 Description",
          "default": "Included standard"
        },
        {
          "type": "select",
          "id": "feature_3_icon",
          "label": "Feature 3 Icon",
          "default": "parts",
          "options": [
            { "value": "warranty", "label": "Warranty (Shield)" },
            { "value": "support", "label": "Support (Headset)" },
            { "value": "parts", "label": "Parts (Tool)" },
            { "value": "star", "label": "Star" }
          ]
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product Intelligence",
      "blocks": [
        {
          "type": "tab",
          "settings": {
            "tab_title": "Overview",
            "tab_icon": "overview",
            "tab_content": "<p>Meet the Brightlink Pro Spectrum COB LED Video Wall in our 217\" Diagonal configuration. This 15.75' × 8.86' masterpiece delivers 8,294,400 pixels at 1.25mm pitch —true 4K resolution with HDR support.</p><p>The Pro Spectrum represents the pinnacle of COB technology. True pixel-to-LED resolution, high dynamic range, and superior contrast deliver visuals that feel alive. Crystal-clear text, rich blacks, and motion that stays smooth even in fast-paced content.</p>",
            "show_features": true,
            "feature_1_title": "4-Year Warranty",
            "feature_1_desc": "Comprehensive coverage",
            "feature_1_icon": "warranty",
            "feature_2_title": "Lifetime Support",
            "feature_2_desc": "855-449-4733",
            "feature_2_icon": "support",
            "feature_3_title": "5% Spare Parts",
            "feature_3_desc": "Included standard",
            "feature_3_icon": "parts"
          }
        },
        {
          "type": "tab",
          "settings": {
            "tab_title": "Specifications",
            "tab_icon": "specs",
            "tab_content": "<p><strong>Display Specifications:</strong></p><p>• Resolution: 3840 x 2160 (4K UHD)<br>• Pixel Pitch: 1.25mm<br>• Brightness: 600-1000 nits<br>• Contrast Ratio: 8000:1<br>• Refresh Rate: 3840Hz<br>• Viewing Angle: 170°</p><p><strong>Physical Specifications:</strong></p><p>• Panel Size: 600mm x 337.5mm<br>• Cabinet Material: Die-cast Aluminum<br>• Weight: 3.78kg per cabinet<br>• Depth: 25mm</p>",
            "show_features": false
          }
        },
        {
          "type": "tab",
          "settings": {
            "tab_title": "Features & Benefits",
            "tab_icon": "features",
            "tab_content": "<p><strong>COB Technology Advantages:</strong></p><p>• Superior heat dissipation for longer lifespan<br>• 100% flat surface with no visible seams<br>• Enhanced durability and moisture resistance<br>• Wider viewing angles with consistent colors</p><p><strong>Smart Features:</strong></p><p>• Auto-brightness adjustment<br>• Remote management capability<br>• Built-in diagnostics<br>• Energy-efficient operation</p>",
            "show_features": false
          }
        },
        {
          "type": "tab",
          "settings": {
            "tab_title": "What's Included",
            "tab_icon": "included",
            "tab_content": "<p><strong>Complete Package Contents:</strong></p><p>• LED Display Cabinets (quantity varies by configuration)<br>• Mounting Frame System<br>• Power Distribution Units<br>• Video Processor<br>• All necessary cabling<br>• 5% Spare Parts Kit<br>• Installation Manual<br>• Calibration Certificate</p>",
            "show_features": false
          }
        },
        {
          "type": "tab",
          "settings": {
            "tab_title": "Installation Guide",
            "tab_icon": "installation",
            "tab_content": "<p><strong>Quick Installation Process:</strong></p><p>1. Assemble the mounting frame structure<br>2. Install power distribution system<br>3. Mount LED cabinets using quick-connect system<br>4. Connect signal and power cables<br>5. Run initial calibration<br>6. Final adjustment and testing</p><p><strong>Installation Time:</strong> 2-4 hours with our modular design</p>",
            "show_features": false
          }
        },
        {
          "type": "tab",
          "settings": {
            "tab_title": "Support & Resources",
            "tab_icon": "support",
            "tab_content": "<p><strong>Customer Support:</strong></p><p>• Phone: 855-449-4733<br>• Email: support@brightlink.com<br>• Live Chat: Available 24/7</p><p><strong>Resources:</strong></p><p>• Download User Manual (PDF)<br>• Video Tutorials<br>• FAQ Section<br>• Warranty Registration</p>",
            "show_features": false
          }
        }
      ]
    }
  ]
}
{% endschema %}

<style>
  #product-intelligence-{{ section.id }} {
    --pi-bg-color: {{ section.settings.bg_color }};
    --pi-label-color: {{ section.settings.label_color }};
    --pi-heading-color: {{ section.settings.heading_color }};
    --pi-subheading-color: {{ section.settings.subheading_color }};
    --pi-label-size: {{ section.settings.label_font_size }}px;
    --pi-heading-size: {{ section.settings.heading_font_size }}px;
    --pi-subheading-size: {{ section.settings.subheading_font_size }}px;
    --pi-padding-top: {{ section.settings.padding_top }}px;
    --pi-padding-bottom: {{ section.settings.padding_bottom }}px;
  }

  {% unless section.settings.show_pattern %}
  #product-intelligence-{{ section.id }} .product-intelligence__pattern {
    display: none;
  }
  {% endunless %}
</style>
