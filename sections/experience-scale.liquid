{{ 'experience-scale.css' | asset_url | stylesheet_tag }}

{% comment %} Get LED template data from product metafield {% endcomment %}
{% assign led_data = product.metafields.custom.led_template_data.value %}
{% assign scale_data = led_data.experience_scale %}

<section class="experience-scale" id="experience-scale">
  <div class="experience-scale__container">
    <!-- Header - Use metafield data if available, otherwise use section settings -->
    {% assign scale_title = scale_data.title | default: section.settings.title | default: 'Experience the Scale' %}
    {% assign scale_subtitle = scale_data.subtitle | default: section.settings.subtitle | default: '217 inches of immersive visual excellence' %}
    {% assign scale_image = scale_data.image %}

    <div class="experience-scale__header">
      {% if section.settings.label != blank %}
        <span class="experience-scale__label">{{ section.settings.label }}</span>
      {% endif %}
      <h2 class="experience-scale__title">{{ scale_title }}</h2>
      <p class="experience-scale__subtitle">{{ scale_subtitle }}</p>
    </div>

    <div class="experience-scale__display">
      <div class="experience-scale__image-wrapper">
        {% if scale_image != blank %}
          <img
            src="{{ scale_image }}"
            alt="{{ scale_title }}"
            class="experience-scale__image"
            loading="lazy"
            width="1200"
            height="600"
          >
        {% elsif section.settings.image != blank %}
          <img
            src="{{ section.settings.image | image_url: width: 1200 }}"
            alt="{{ scale_title }}"
            class="experience-scale__image"
            loading="lazy"
            width="1200"
            height="600"
          >
        {% else %}
          <div class="experience-scale__image-placeholder">
            <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <circle cx="8.5" cy="8.5" r="1.5"></circle>
              <polyline points="21 15 16 10 5 21"></polyline>
            </svg>
            <span>Upload Display Image</span>
          </div>
        {% endif %}


      </div>
    </div>

    <!-- Metrics - Use metafield data if available, otherwise use section settings -->
    <div class="experience-scale__metrics">
      {% if scale_data.metrics.size > 0 %}
        {% for metric in scale_data.metrics %}
          <div class="experience-scale__metric">
            <span class="experience-scale__metric-value">{{ metric.value }}</span>
            <span class="experience-scale__metric-label">{{ metric.label }}</span>
            <span class="experience-scale__metric-desc">{{ metric.detail }}</span>
          </div>
        {% endfor %}
      {% else %}
        <div class="experience-scale__metric">
          <div class="experience-scale__metric-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="15 3 21 3 21 9"></polyline>
              <polyline points="9 21 3 21 3 15"></polyline>
              <polyline points="21 15 21 21 15 21"></polyline>
              <polyline points="3 9 3 3 9 3"></polyline>
            </svg>
          </div>
          <span class="experience-scale__metric-value">{{ section.settings.metric1_value | default: '36x' }}</span>
          <span class="experience-scale__metric-label">{{ section.settings.metric1_label | default: 'Larger' }}</span>
          <span class="experience-scale__metric-desc">{{ section.settings.metric1_desc | default: 'than a typical 65" TV' }}</span>
        </div>
        <div class="experience-scale__metric">
          <div class="experience-scale__metric-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <circle cx="6" cy="6" r="2"></circle>
              <circle cx="12" cy="6" r="2"></circle>
              <circle cx="18" cy="6" r="2"></circle>
              <circle cx="6" cy="12" r="2"></circle>
              <circle cx="12" cy="12" r="2"></circle>
              <circle cx="18" cy="12" r="2"></circle>
              <circle cx="6" cy="18" r="2"></circle>
              <circle cx="12" cy="18" r="2"></circle>
              <circle cx="18" cy="18" r="2"></circle>
            </svg>
          </div>
          <span class="experience-scale__metric-value">{{ section.settings.metric2_value | default: '4x' }}</span>
          <span class="experience-scale__metric-label">{{ section.settings.metric2_label | default: 'Equivalent' }}</span>
          <span class="experience-scale__metric-desc">{{ section.settings.metric2_desc | default: "to 17' diagonal display" }}</span>
        </div>
        <div class="experience-scale__metric">
          <div class="experience-scale__metric-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="9" y1="21" x2="9" y2="15"></line>
              <line x1="15" y1="21" x2="15" y2="15"></line>
              <line x1="9" y1="3" x2="9" y2="9"></line>
              <line x1="15" y1="3" x2="15" y2="9"></line>
            </svg>
          </div>
          <span class="experience-scale__metric-value">{{ section.settings.metric3_value | default: '141' }}</span>
          <span class="experience-scale__metric-label">{{ section.settings.metric3_label | default: 'sq ft' }}</span>
          <span class="experience-scale__metric-desc">{{ section.settings.metric3_desc | default: 'of visual real estate' }}</span>
        </div>
      {% endif %}
    </div>

    {% if section.settings.cta_text != blank %}
      <div class="experience-scale__cta">
        <a href="{{ section.settings.cta_link | default: '#' }}" class="experience-scale__btn">
          {{ section.settings.cta_text }}
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14"></path>
            <path d="M12 5l7 7-7 7"></path>
          </svg>
        </a>
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Experience Scale",
  "tag": "section",
  "class": "experience-scale-section",
  "settings": [
    {
      "type": "header",
      "content": "Header"
    },
    {
      "type": "text",
      "id": "label",
      "label": "Section Label",
      "default": "IMMERSIVE DISPLAY"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Experience the Scale"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "217 inches of immersive visual excellence"
    },
    {
      "type": "header",
      "content": "Display Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Display Image"
    },
    {
      "type": "header",
      "content": "Metric 1"
    },
    {
      "type": "text",
      "id": "metric1_value",
      "label": "Value",
      "default": "36x"
    },
    {
      "type": "text",
      "id": "metric1_label",
      "label": "Label",
      "default": "Larger"
    },
    {
      "type": "text",
      "id": "metric1_desc",
      "label": "Description",
      "default": "than a typical 65\" TV"
    },
    {
      "type": "header",
      "content": "Metric 2"
    },
    {
      "type": "text",
      "id": "metric2_value",
      "label": "Value",
      "default": "4x"
    },
    {
      "type": "text",
      "id": "metric2_label",
      "label": "Label",
      "default": "Equivalent"
    },
    {
      "type": "text",
      "id": "metric2_desc",
      "label": "Description",
      "default": "to 17' diagonal display"
    },
    {
      "type": "header",
      "content": "Metric 3"
    },
    {
      "type": "text",
      "id": "metric3_value",
      "label": "Value",
      "default": "141"
    },
    {
      "type": "text",
      "id": "metric3_label",
      "label": "Label",
      "default": "sq ft"
    },
    {
      "type": "text",
      "id": "metric3_desc",
      "label": "Description",
      "default": "of visual real estate"
    },
    {
      "type": "header",
      "content": "Call to Action"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "Button Text",
      "default": "Configure Your Display"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "Button Link"
    }
  ],
  "presets": [
    {
      "name": "Experience Scale"
    }
  ]
}
{% endschema %}
