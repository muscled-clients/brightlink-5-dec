{{ 'hero-video-wall.css' | asset_url | stylesheet_tag }}

<section class="hvw {{ section.settings.custom_class }}" id="hvw-{{ section.id }}">
  <!-- Background Video -->
  <div class="hvw__video-wrap">
    {% if section.settings.video_url != blank %}
      <video class="hvw__video" autoplay muted loop playsinline>
        <source src="{{ section.settings.video_url }}" type="video/mp4">
      </video>
    {% elsif section.settings.video_file != blank %}
      {{ section.settings.video_file | video_tag: autoplay: true, loop: true, muted: true, playsinline: true, class: 'hvw__video' }}
    {% else %}
      <div class="hvw__fallback" style="background-image: url('{{ section.settings.fallback_image | image_url: width: 1920 }}');"></div>
    {% endif %}
    <div class="hvw__overlay"></div>
  </div>

  <!-- Content -->
  <div class="hvw__content">
    {% if section.settings.series_label != blank %}
      <span class="hvw__label">{{ section.settings.series_label }}</span>
    {% endif %}

    {% if section.settings.main_heading != blank %}
      <h1 class="hvw__heading">{{ section.settings.main_heading }}</h1>
    {% endif %}

    {% if section.settings.subheading != blank %}
      <p class="hvw__subheading">{{ section.settings.subheading }}</p>
    {% endif %}

    {% if section.settings.description != blank %}
      <p class="hvw__desc">{{ section.settings.description }}</p>
    {% endif %}

    <!-- Buttons -->
    <div class="hvw__buttons">
      {% if section.settings.button_1_text != blank %}
        <a href="{{ section.settings.button_1_link }}" class="hvw__btn hvw__btn--primary">
          {{ section.settings.button_1_text }}
        </a>
      {% endif %}
      {% if section.settings.button_2_text != blank %}
        <a href="{{ section.settings.button_2_link }}" class="hvw__btn hvw__btn--secondary">
          {{ section.settings.button_2_text }}
        </a>
      {% endif %}
    </div>
  </div>

  <!-- Feature Boxes at Bottom -->
  <div class="hvw__features">
    {% for block in section.blocks %}
      {% if block.type == 'feature' %}
        <div class="hvw__feature" {{ block.shopify_attributes }}>
          <span class="hvw__feature-value">{{ block.settings.feature_value }}</span>
          <span class="hvw__feature-label">{{ block.settings.feature_label }}</span>
        </div>
      {% endif %}
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "Hero Video Wall",
  "tag": "section",
  "class": "hvw-wrapper",
  "settings": [
    {
      "type": "header",
      "content": "Video Settings"
    },
    {
      "type": "url",
      "id": "video_url",
      "label": "Video URL (MP4)",
      "info": "Enter a direct link to an MP4 video file"
    },
    {
      "type": "video",
      "id": "video_file",
      "label": "Or Upload Video",
      "info": "Upload a video from Shopify's file storage"
    },
    {
      "type": "image_picker",
      "id": "fallback_image",
      "label": "Fallback Background Image",
      "info": "Displayed if no video is provided"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 40,
      "unit": "%",
      "label": "Overlay Opacity"
    },
    {
      "type": "header",
      "content": "Text Content"
    },
    {
      "type": "text",
      "id": "series_label",
      "label": "Series Label",
      "default": "PRO SPECTRUM SERIES"
    },
    {
      "type": "text",
      "id": "main_heading",
      "label": "Main Heading",
      "default": "217\" COB LED Video Wall"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "The Pinnacle of Visual Excellence"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "True 4K resolution. 600 nits brightness. 100,000-hour lifespan. The world's most advanced LED video wall technology."
    },
    {
      "type": "header",
      "content": "Button 1"
    },
    {
      "type": "text",
      "id": "button_1_text",
      "label": "Button 1 Text",
      "default": "Configure Your System"
    },
    {
      "type": "url",
      "id": "button_1_link",
      "label": "Button 1 Link"
    },
    {
      "type": "header",
      "content": "Button 2"
    },
    {
      "type": "text",
      "id": "button_2_text",
      "label": "Button 2 Text",
      "default": "Explore Specifications"
    },
    {
      "type": "url",
      "id": "button_2_link",
      "label": "Button 2 Link"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "label_color",
      "label": "Series Label Color",
      "default": "#FFD700"
    },
    {
      "type": "color",
      "id": "btn_primary_bg",
      "label": "Primary Button Background",
      "default": "#FF6200"
    },
    {
      "type": "color",
      "id": "btn_primary_hover",
      "label": "Primary Button Hover",
      "default": "#e55b00"
    },
    {
      "type": "text",
      "id": "custom_class",
      "label": "Custom CSS Class"
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature",
      "settings": [
        {
          "type": "text",
          "id": "feature_value",
          "label": "Value",
          "default": "217\""
        },
        {
          "type": "text",
          "id": "feature_label",
          "label": "Label",
          "default": "Diagonal Display"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hero Video Wall",
      "blocks": [
        {
          "type": "feature",
          "settings": {
            "feature_value": "217\"",
            "feature_label": "Diagonal Display"
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_value": "8.3M",
            "feature_label": "Total Pixels"
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_value": "1.25mm",
            "feature_label": "Pixel Pitch"
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_value": "2hrs",
            "feature_label": "Installation Time"
          }
        }
      ]
    }
  ]
}
{% endschema %}

<style>
  #hvw-{{ section.id }} .hvw__overlay {
    background-color: rgba(0, 0, 0, {{ section.settings.overlay_opacity | divided_by: 100.0 }});
  }
  #hvw-{{ section.id }} .hvw__label {
    color: {{ section.settings.label_color }};
  }
  #hvw-{{ section.id }} .hvw__btn--primary {
    background-color: {{ section.settings.btn_primary_bg }};
  }
  #hvw-{{ section.id }} .hvw__btn--primary:hover {
    background-color: {{ section.settings.btn_primary_hover }};
  }
</style>
