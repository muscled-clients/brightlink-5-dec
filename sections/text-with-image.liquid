{% if template.name == 'product' %}
  {% if product.metafields.custom.section_text_with_image.value.heading.value == blank and product.metafields.custom.section_text_with_image.value.description.value == blank %}
    <style>
      #shopify-section-{{ section.id }} {
        display: none;
      }
    </style>
  {% endif %}
  {% endif %}

<style>
/* code for hover effect on images and black shadow by placing an empty div */

#section--{{ section.id }} .vendor-shop-now-h {
  overflow:hidden;
  border-radius: 0px 20px 20px 0px;
}  
#section--{{ section.id }}  .vendor-shop-now-h img {
  transition: transform 0.5s ease !important;
}
         
#section--{{ section.id }}  .vendor-shop-now-h:hover img {
    transform: scale(1.03);
  }
#section--{{ section.id }}  .vendor-shop-now-h:hover  .image-overlay {
    opacity:0.3;
  }

#section--{{ section.id }}  .vendor-shop-now-h .image-overlay{
      background: rgba(0, 0, 0);
      opacity:0;
      position:absolute;
      left:0;
      top:0;
      transition: opacity 0.5s ease !important;
      z-index:4;
      width:100%;
      height:100%;
      display:block !important;
      border-radius: 0px 20px 20px 0px;
  }
/* =================================== */





  
#section--{{ section.id }} .celebrate-moments-together {
  	align-self: stretch;
  	position: relative;
  	font-weight: 500;
    line-height: normal;
    color: {{ section.settings.content_color }};
}
#section--{{ section.id }} .discover-the-missing {
  	align-self: stretch;
  	position: relative;
  	font-size: 20px;
  	line-height: 150%;
  	font-weight: 300;
  	font-family: Montserrat;
    color: {{ section.settings.content_color }};
}
#section--{{ section.id }} .celebrate-moments-together-parent {
  	border-radius: 20px 0px 0px 20px;
  	background-color: {{ section.settings.bg }} ;
  	width: 683px;
  	height: 350px;
  	display: flex;
  	flex-direction: column;
  	padding: 0px 40px 0px 40px;
  	box-sizing: border-box;
  	align-items: flex-start;
  	justify-content: center;
  	gap: 10px;
}
#section--{{ section.id }} .frame-child {
  	position: relative;
  	border-radius: 0px 20px 20px 0px;
  	width: 517px;
  	height: 350px;
  	object-fit: cover;
}
#section--{{ section.id }}.frame-parent-s {
  	position: relative;
  	border-radius: 40px;
  	width: 100%;
  	display: flex;
  	flex-direction: row;
  	align-items: center;
  	justify-content: center;
  	text-align: left;
  	font-size: 40px;
  	color: #fff;
  	font-family: Lato;
    margin-top:{{ section.settings.margin-top-d }}px;
    margin-bottom:{{ section.settings.margin-bottom-d }}px;
}



@media screen and (max-width:1000px){

#section--{{ section.id }}  .vendor-shop-now-h .image-overlay {
    border-radius: 0px 0px 0px 0px;
  }
#section--{{ section.id }} .vendor-shop-now-h {
    border-radius: 10px 10px 0px 0px;
}

  #section--{{ section.id }} .celebrate-moments-together {
    width: 100%;
    position: relative;
    font-size: 16px;
    font-weight: 500;
    font-family: Lato;
    text-align: left;
    display: inline-block;
    line-height: initial;
}
#section--{{ section.id }} .discover-the-missing {
    align-self: stretch;
    position: relative;
    font-size: 14px;
    line-height: 150%;
    font-family: Montserrat;
}
#section--{{ section.id }} .celebrate-moments-together-parent {
    position: relative;
    width: 100%;
    display: flex;
    flex-direction: column;
    padding: 15px 20px;
    box-sizing: border-box;
    align-items: flex-start;
    justify-content: center;
    gap: 10px;
    text-align: left;
    font-size: 24px;
    color: #fff;
    font-family: Lato;
    border-radius: 0px 0px 10px 10px;
    height: auto;
}
#section--{{ section.id }} .frame-child {
  	position: relative;
  	border-radius: 0px 0px 0px 0px;
  	width: 100%;
  	height: auto;
  	object-fit: cover;
}
  
  #section--{{ section.id }}.frame-parent-s {
  	position: relative;
  	border-radius: 40px;
  	width: 100%;
    width:335px;
  	display: flex;
  	flex-direction: column-reverse;
  	align-items: center;
  	justify-content: center;
  	text-align: left;
  	font-size: 40px;
  	color: #fff;
  	font-family: Lato;
    margin:auto;
    margin-top:{{ section.settings.margin-top-m }}px;
    margin-bottom:{{ section.settings.margin-bottom-m }}px;
}
}  
</style>


   
  	<div class="frame-parent-s" id="section--{{ section.id }}">
    		<div class="celebrate-moments-together-parent">
      			<div class="celebrate-moments-together">{{ section.settings.heading }}</div>
      			<div class="discover-the-missing">{{ section.settings.text }}</div>
    		</div>
    		<!-- <img class="frame-child" alt="" src="{{ section.settings.image | img_url:"1440x" }}"> -->
            <div class="vendor-shop-now-h" style="position:relative;">
              <div class="image-overlay"></div>
      		  <img class="frame-child" alt="" src="{{ section.settings.image | img_url:"1440x" }}">
        	</div>
    		
  	</div>
  	



{% schema %}
  {
    "name": "Text With Image",
    "settings": [
      {
        "type":"text",
        "id":"heading",
        "label":"Heading"
      },
      {
        "type":"richtext",
        "id":"text",
        "label":"Text"
      },
      {
        "type":"image_picker",
        "id":"image",
        "label":"Image"
      },
      {
        "type": "color",
        "id": "bg",
        "label": "Content background color",
        "default": "#F2F2F2"
      },
      { 
        "type": "color",
        "id": "content_color",
        "label": "Text color",
        "default": "#000"
      },
     {
        "type":"range",
        "id":"margin-top-d",
        "label":"Margin Top Desktop",
       "min":0,
       "max":200,
       "step":10,
       "default":150,
       "unit":"px"
      },
      {
        "type":"range",
        "id":"margin-bottom-d",
        "label":"Margin Bottom Desktop",
       "min":0,
       "max":200,
       "step":10,
       "default":40,
       "unit":"px"
      },
     {
        "type":"range",
        "id":"margin-top-m",
        "label":"Margin Top Mobile",
       "min":0,
       "max":200,
       "step":10,
       "default":150,
       "unit":"px"
      },
      {
        "type":"range",
        "id":"margin-bottom-m",
        "label":"Margin Bottom Mobile",
       "min":0,
       "max":200,
       "step":10,
       "default":150,
       "unit":"px"
      }
    ],
    "presets":[
      {
        "name": "Text With Image"
      }
    ]
  }
{% endschema %}